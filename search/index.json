[{"content":"I am a third-year undergraduate student at the University of Toledo in Toledo, OH. I am pursuing a B.S. in Data Science and a B.A. in Disability Studies. I enjoy studying the relationship between disability, technology, and society. Upon completion of my undergraduate studies, I hope to find a career in data science that allows me to blend my skills from both of my fields of interest.\nAdditionally, I promote disability advocacy on my campus through student organization Disability Student Union, which I co-founded. I am the recipient of the Patrica Murphy scholarship, which recognizes my passion for and commitment to disability justice. In my free time, I crochet, read, and make art.\nInterested in my resume? Download it here.\n","date":"2024-04-23T00:00:00Z","permalink":"https://kuehnmarissa.github.io/p/about-me/","title":"About Me"},{"content":" # Introduction This project uses this diamond sales dataset containing the attributes of almost 54,000 diamonds. My aim is to create a linear model that predicts the price of the diamond from its characteristics (carat, depth, table, x, y, z). For this project, I am excluding the categorical variables because I do not yet have the knowledge required to properly deal with them. The methods used in this project are directly inspired by my Statistical Methods II coursework.\n# Variables carat: the mass of the diamond cut: the quality of the cut of the diamond (Fair, Good, Very Good, Premium, Ideal) color: the color of the diamond (from J worst to D best) depth: the depth percentage of the diamond table: the percentage of the facet which can be seen when the stone is viewed face up price: price in dollars x: length in mm y: width in mm z: depth in mm # Preliminary Analysis # Importing Dependencies library(\u0026quot;tidyverse\u0026quot;)\r## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\r## ✔ dplyr 1.1.4 ✔ readr 2.1.5\r## ✔ forcats 1.0.0 ✔ stringr 1.5.1\r## ✔ ggplot2 3.5.1 ✔ tibble 3.2.1\r## ✔ lubridate 1.9.3 ✔ tidyr 1.3.1\r## ✔ purrr 1.0.2 ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\r## ✖ dplyr::filter() masks stats::filter()\r## ✖ dplyr::lag() masks stats::lag()\r## ℹ Use the conflicted package (\u0026lt;http://conflicted.r-lib.org/\u0026gt;) to force all conflicts to become errors\rlibrary(\u0026quot;Hmisc\u0026quot;)\r## ## Attaching package: 'Hmisc'\r## ## The following objects are masked from 'package:dplyr':\r## ## src, summarize\r## ## The following objects are masked from 'package:base':\r## ## format.pval, units\r# Loading The Data diamond_sales \u0026lt;- read.csv(\u0026quot;C:/Users/kuehn/Documents/Personal-Projects/diamond_sales/data/diamonds.csv\u0026quot;)\rhead(diamond_sales)\r## carat cut color clarity depth table price x y z\r## 1 0.23 Ideal E SI2 61.5 55 326 3.95 3.98 2.43\r## 2 0.21 Premium E SI1 59.8 61 326 3.89 3.84 2.31\r## 3 0.23 Good E VS1 56.9 65 327 4.05 4.07 2.31\r## 4 0.29 Premium I VS2 62.4 58 334 4.20 4.23 2.63\r## 5 0.31 Good J SI2 63.3 58 335 4.34 4.35 2.75\r## 6 0.24 Very Good J VVS2 62.8 57 336 3.94 3.96 2.48\r# Plotting The Variables First, I created some histograms of the response and explanatory variables to see how they are distributed.\nhist(diamond_sales$carat,main=\u0026quot;Histogram of Carat\u0026quot;,xlab=\u0026quot;Carat\u0026quot;)\rThe histogram of carat is right-skewed, meaning the mean carat measurement of the dataset will be smaller than the median carat measurement.\nhist(diamond_sales$depth,main=\u0026quot;Histogram of Depth\u0026quot;,xlab=\u0026quot;Depth (Percentage)\u0026quot;)\rThe histogram of depth percentage is approximately symmetric, meaning that the mean and median values for depth percentage for the dataset will be about equal.\nhist(diamond_sales$table,main=\u0026quot;Histogram of Table\u0026quot;,xlab=\u0026quot;Table (Percentage)\u0026quot;)\rThe histogram of table is approximately symmetric, meaning that the mean and median values for table for the dataset will be about equal.\nhist(diamond_sales$price,main=\u0026quot;Histogram of Price\u0026quot;,xlab=\u0026quot;Price (Dollars)\u0026quot;)\rThe histogram of price is right-skewed, meaning that the mean price of the dataset will be larger than the median price.\nhist(diamond_sales$x,main=\u0026quot;Histogram of Length\u0026quot;,xlab=\u0026quot;Length (mm)\u0026quot;)\rThe histogram of length is slightly skewed to the right, meaning that the mean length of the dataset will be slightly larger than the median length.\nhist(diamond_sales$y,main=\u0026quot;Histogram of Width\u0026quot;,xlab=\u0026quot;Width (mm)\u0026quot;)\rThe histogram of width is slightly left-skewed, meaning that the mean width of the dataset will be slightly smaller than the median width.\nhist(diamond_sales$z,main=\u0026quot;Histogram of Depth\u0026quot;,xlab=\u0026quot;Depth (mm)\u0026quot;)\rThe histogram of depth is slightly skewed to the right, meaning that the mean depth of the dataset will be slightly larger than the median depth\n# Correlation Between All Pairs of Quantitative Variables diamond_sales_quant \u0026lt;- diamond_sales[,-c(2:4)] # Remove categorical variables\r# Create correlation matrix and compute p-value table\rcor_diamond_sales_quant \u0026lt;- rcorr(as.matrix(diamond_sales_quant))\rprint(cor_diamond_sales_quant)\r## carat depth table price x y z\r## carat 1.00 0.03 0.18 0.92 0.98 0.95 0.95\r## depth 0.03 1.00 -0.30 -0.01 -0.03 -0.03 0.09\r## table 0.18 -0.30 1.00 0.13 0.20 0.18 0.15\r## price 0.92 -0.01 0.13 1.00 0.88 0.87 0.86\r## x 0.98 -0.03 0.20 0.88 1.00 0.97 0.97\r## y 0.95 -0.03 0.18 0.87 0.97 1.00 0.95\r## z 0.95 0.09 0.15 0.86 0.97 0.95 1.00\r## ## n= 53940 ## ## ## P\r## carat depth table price x y z ## carat 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000\r## depth 0.0000 0.0000 0.0134 0.0000 0.0000 0.0000\r## table 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000\r## price 0.0000 0.0134 0.0000 0.0000 0.0000 0.0000\r## x 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000\r## y 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000\r## z 0.0000 0.0000 0.0000 0.0000 0.0000 0.0000\rFor the predictors, carat has the strongest positive correlation with price (r=0.92). Length, width, and depth are also strongly positively correlated with price (r=0.88, r=0.87, r=0.86 respectively). Interestingly, depth percentage is weakly negatively correlated with price (r=-0.01).Table has a weak positive correlation (r=0.13). It makes sense that price increases as carat, length, width, and depth increase since bigger diamonds cost more. Perhaps depth percentage is weakly negatively correlated because the ideal depth percentage falls within a specific range.\nThe p-value table for the correlation test between all pairs of quantitative variables shows that there is a significant correlation between each pair of variables at the 0.05 level.\nNow that the preliminary analysis is complete, a multiple linear regression model can be created including all the variables.\n# Linear Regression Model # Checking Conditions To use a linear regression model, I need to check the following conditions:\nLinearity Consistent variability Normal residuals # Linearity \u0026amp; Consistent Variability Conditions qqnorm(diamond_sales$price)\rqqline(diamond_sales$price, col=\u0026quot;blue\u0026quot;)\rFrom the QQPlot, the quantile points do not lie on the theoretical normal line, thus the linearity and consistent variability conditions are not satisfied.\n# Normal Residuals Condition attach(diamond_sales_quant)\rmodel1 \u0026lt;- lm(price ~ carat + depth + table + x + y + z) # Create initial linear model\rhist(model1$residuals,main=\u0026quot;Histogram of Residuals\u0026quot;,xlab=\u0026quot;Residuals\u0026quot;)\rThe histogram of residuals is approximately symmetric, therefore the data meets the normalcy criteria.\nWhile not all of the criteria for multiple linear regression are met, for the sake of practice I will continue (but with caution!).\n# Linear Model # First Model summary(model1)\r## ## Call:\r## lm(formula = price ~ carat + depth + table + x + y + z)\r## ## Residuals:\r## Min 1Q Median 3Q Max ## -23878.2 -615.0 -50.7 347.9 12759.2 ## ## Coefficients:\r## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 20849.316 447.562 46.584 \u0026lt; 2e-16 ***\r## carat 10686.309 63.201 169.085 \u0026lt; 2e-16 ***\r## depth -203.154 5.504 -36.910 \u0026lt; 2e-16 ***\r## table -102.446 3.084 -33.216 \u0026lt; 2e-16 ***\r## x -1315.668 43.070 -30.547 \u0026lt; 2e-16 ***\r## y 66.322 25.523 2.599 0.00937 ** ## z 41.628 44.305 0.940 0.34744 ## ---\r## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r## ## Residual standard error: 1497 on 53933 degrees of freedom\r## Multiple R-squared: 0.8592, Adjusted R-squared: 0.8592 ## F-statistic: 5.486e+04 on 6 and 53933 DF, p-value: \u0026lt; 2.2e-16\rBecause depth (z) is not significant, I am removing it from the model.\n# Second Model model2 \u0026lt;- lm(price ~ carat + depth + table + x + y) # Create linear model\rsummary(model2)\r## ## Call:\r## lm(formula = price ~ carat + depth + table + x + y)\r## ## Residuals:\r## Min 1Q Median 3Q Max ## -23872.1 -614.8 -50.5 347.5 12759.4 ## ## Coefficients:\r## Estimate Std. Error t value Pr(\u0026gt;|t|) ## (Intercept) 20702.947 419.575 49.343 \u0026lt; 2e-16 ***\r## carat 10686.707 63.199 169.095 \u0026lt; 2e-16 ***\r## depth -200.718 4.855 -41.344 \u0026lt; 2e-16 ***\r## table -102.490 3.084 -33.234 \u0026lt; 2e-16 ***\r## x -1293.542 36.063 -35.869 \u0026lt; 2e-16 ***\r## y 69.575 25.287 2.751 0.00594 ** ## ---\r## Signif. codes: 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\r## ## Residual standard error: 1497 on 53934 degrees of freedom\r## Multiple R-squared: 0.8592, Adjusted R-squared: 0.8592 ## F-statistic: 6.583e+04 on 5 and 53934 DF, p-value: \u0026lt; 2.2e-16\r# Final Model Interpretation Now that all the variables are significant, my final regression equation is:\nPrice = 20702.94 + 10686.70 * Carat − 200.71 * Depth Percentage − 102.49 * Table − 1293.54 * Length + 69.57 * Width\nFor every additional carat, there is a $10686.70 increase in price. For every 1% increase in depth percentage, there is a $200.71 decrease in price. For every 1% increase in table, there is a $102.49 decrease in price. For every 1 mm increase in length, there is a $1293.54 decrease in price. For every 1 mm increase in width, there is a $69.57 increase in price. The intercept in this case does not make much sense because a diamond with dimensions 0 mm x 0 mm x 0 mm would not have a price of $20702.94.\n# F-Test The R output includes an F-test that can be used to assess the usefulness of the multiple linear regression model. To understand these values, I need to create null and alternative hypotheses.\nLet β0 = Price Intercept, β1 = Carat Coefficient, β2 = Depth Percentage Coefficient, β3 = Table Coefficient, β4 = Length Coefficient, β5 = Width Coefficient\nH0 : β1 = β2 = β3 = β4 = β5, Ha : Not all βk for (k=0,1,..,k) The null hypothesis states that all the regression coefficients will be equal to zero, i.e. testing if the model does not effectively predict price from its characteristics. The alternative hypothesis states at least one of the regression coefficients is not equal to zero, i.e. the model is effective at predicting price from its characteristics but further analysis is needed to determine the significance of the regression coefficients.\nThe degrees of freedom for this test is equal to n-k-1, therefore the df is 53934.\nThe F-statistic from the R output is 6.583 * 104. This large F-statistic indicates a p-value close to 0. From the R output, the p-value is \u0026lt; 2.2 * 10−16; since this p-value is less than 0.05, I can reject the null hypothesis and conclude that there is sufficient evidence that the model is effective at predicting price from carat, depth percentage, table, length, and width.\n# T-Tests On All Regression Coefficients Next, a t-test must be performed on all the regression coefficients to determine if the variable is significant to the model after all other variables are added to the model.\nLet β0 = Price Intercept, β1 = Carat Coefficient, β2 = Depth Percentage Coefficient, β3 = Table Coefficient, β4 = Length Coefficient, β5 = Width Coefficient\nFor the first regression coefficient, β1: H0 : β1 = 0, Ha : β1 ≠ 0 The null hypothesis states that the regression coefficient for carat will be equal to zero, i.e. carat is not a significant predictor of price when all other variables are included in the model. The alternative hypothesis states that the regression coefficient for carat will not be equal to zero, i.e. carat is a significant predictor of price when all other variables are not included in the model.\nDegrees of freedom is equal to n-k-1, therefore the df is 53934.\nFrom the R output, the T-statistic is 169.095. A large T-statistic indicates a p-value close to zero. From the R output, the p-value is \u0026lt; 2 * 10−16; since this p-value is less than 0.05, I can reject the null hypothesis and conclude there is sufficient evidence that, after all other variables are added into the model and held constant, carat is a significant predictor of diamond price.\nFor the second regression coefficient, β2: H0 : β2 = 0, Ha : β2 ≠ 0 The null hypothesis states that the regression coefficient for depth percentage will be equal to zero, i.e. depth percentage is not a significant predictor of price when all other variables are included in the model. The alternative hypothesis states that the regression coefficient for depth percentage will not be equal to zero, i.e. depth percentage is a significant predictor of price when all other variables are not included in the model.\nDegrees of freedom is equal to n-k-1, therefore the df is 53934.\nFrom the R output, the T-statistic is -41.344. A large T-statistic indicates a p-value close to zero. From the R output, the p-value is \u0026lt; 2 * 10−16; since this p-value is less than 0.05, I can reject the null hypothesis and conclude there is sufficient evidence that, after all other variables are added into the model and held constant, depth percentage is a significant predictor of diamond price.\nFor the third regression coefficient, β3: H0 : β3 = 0, Ha : β3 ≠ 0 The null hypothesis states that the regression coefficient for table will be equal to zero, i.e. table is not a significant predictor of price when all other variables are included in the model. The alternative hypothesis states that the regression coefficient for table will not be equal to zero, i.e. table is a significant predictor of price when all other variables are not included in the model.\nDegrees of freedom is equal to n-k-1, therefore the df is 53934.\nFrom the R output, the T-statistic is -33.234. A large T-statistic indicates a p-value close to zero. From the R output, the p-value is \u0026lt; 2 * 10−16; since this p-value is less than 0.05, I can reject the null hypothesis and conclude there is sufficient evidence that, after all other variables are added into the model and held constant, table is a significant predictor of diamond price.\nFor the fourth regression coefficient, β4: H0 : β4 = 0, Ha : β4 ≠ 0 The null hypothesis states that the regression coefficient for length will be equal to zero, i.e. length is not a significant predictor of price when all other variables are included in the model. The alternative hypothesis states that the regression coefficient for length will not be equal to zero, i.e. length is a significant predictor of price when all other variables are not included in the model.\nDegrees of freedom is equal to n-k-1, therefore the df is 53934.\nFrom the R output, the T-statistic is -35.869. A large T-statistic indicates a p-value close to zero. From the R output, the p-value is \u0026lt; 2 * 10−16; since this p-value is less than 0.05, I can reject the null hypothesis and conclude there is sufficient evidence that, after all other variables are added into the model and held constant, length is a significant predictor of diamond price.\nFor the fifth regression coefficient, β5: H0 : β5 = 0, Ha : β5 ≠ 0 The null hypothesis states that the regression coefficient for width will be equal to zero, i.e. width is not a significant predictor of price when all other variables are included in the model. The alternative hypothesis states that the regression coefficient for width will not be equal to zero, i.e. width is a significant predictor of price when all other variables are not included in the model.\nDegrees of freedom is equal to n-k-1, therefore the df is 53934.\nFrom the R output, the T-statistic is 2.751. A large T-statistic indicates a p-value close to zero. From the R output, the p-value is 0.00594; since this p-value is less than 0.05, I can reject the null hypothesis and conclude there is sufficient evidence that, after all other variables are added into the model and held constant, width is a significant predictor of diamond price.\n# Conclusion From this work, I have drawn the following conclusions (cautiously, as the criteria for multiple linear regression were not fully met):\nThere is is sufficient evidence that the model is effective at predicting price from carat, depth percentage, table, length, and width. There is sufficient evidence that, after all other variables are added into the model and held constant, carat is a significant predictor of diamond price. There is sufficient evidence that, after all other variables are added into the model and held constant, depth percentage is a significant predictor of diamond price. There is sufficient evidence that, after all other variables are added into the model and held constant, table is a significant predictor of diamond price. There is sufficient evidence that, after all other variables are added into the model and held constant, length is a significant predictor of diamond price. There is sufficient evidence that, after all other variables are added into the model and held constant, width is a significant predictor of diamond price. The final model that can be used to predict price: Price = 20702.94 + 10686.70 * Carat − 200.71 * Depth Percentage − 102.49 * Table − 1293.54 * Length + 69.57 * Width ","date":"2024-04-25T00:00:00Z","permalink":"https://kuehnmarissa.github.io/p/diamond-sales/","title":"Diamond Sales - Predicting Price from Diamond Characteristics"}]